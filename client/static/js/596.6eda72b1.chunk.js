"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[596],{33596:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var a=n(47619),r=n(23132),s=n(38768),l=n(26901),i=n(19860),c=n(42461),o=n(82295),d=n(61113),u=n(73997),m=n(22408),f=n(56993),x=n(24511),h=n(29466),g=n(11264),p=n(46417);var b=function(e){(0,x.$)("forkliftsPage").t,e.isMobile;var t=(0,i.Z)(),n=(0,m.I0)(),a=(0,m.v9)(g.g4);return(0,p.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,p.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 min-w-0",children:[(0,p.jsx)(u.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,p.jsxs)(d.Z,{className:"flex items-center sm:mb-12",component:h.rU,role:"button",to:"/maintenance/query",color:"inherit",children:[(0,p.jsx)(f.Z,{size:20,children:"ltr"===t.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,p.jsx)("span",{className:"flex mx-4 font-medium",children:"Targonc\xe1k"})]})}),(0,p.jsx)("div",{className:"flex items-center max-w-full",children:(0,p.jsx)(u.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:(0,p.jsx)(d.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Ellen\u0151rz\xe9sek"})})})]}),(0,p.jsx)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:(0,p.jsxs)(o.Z,{component:u.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,p.jsx)(f.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,p.jsx)(c.Z,{placeholder:"Ellen\u0151rz\xe9sek keres\xe9se",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,g.jE)(e))}})]})})]})},j=n(29439),Z=n(92550),v=n(58970),w=n(66835),k=n(57861),y=n(67478),N=n(62323),P=n(24076),C=n(47313),S=n(8139),I=n(63738),_=n(97890),T=n(70816),E=n.n(T),D=n(63445),z=n(82558),U=n(61689),M=n(23477),R=n(17551),$=[{id:"date",align:"left",disablePadding:!1,label:"D\xe1tum",sort:!0},{id:"username",align:"center",disablePadding:!1,label:"Karbantart\xf3",sort:!0},{id:"has_damage",align:"center",disablePadding:!1,label:"St\xe1tusz",sort:!0}];var A=function(e){(0,x.$)("forkliftsPage").t,e.selectedTableIds.length;var t=(0,C.useState)(null),n=(0,j.Z)(t,2);return n[0],n[1],(0,m.I0)(),(0,p.jsx)(M.Z,{children:(0,p.jsxs)(P.Z,{className:"h-48 sm:h-64",children:[(0,p.jsx)(y.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,R.$n)(e.palette.background.default,.4):(0,R.$n)(e.palette.background.default,.02)}},padding:"none",className:"w-40 md:w-64 text-center z-99"}),$.map((function(t){return(0,p.jsx)(y.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,R.$n)(e.palette.background.default,.4):(0,R.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,p.jsx)(U.Z,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,p.jsx)(z.Z,{active:e.order.id===t.id,direction:e.order.direction,onClick:(n=t.id,function(t){e.onRequestSort(t,n)}),className:"font-semibold",children:t.label})})},t.id);var n}),this)]})})};function Y(e){var t=new Date,n=new Date(e);return t.getUTCFullYear()===n.getUTCFullYear()&&t.getUTCMonth()===n.getUTCMonth()&&t.getUTCDate()===n.getUTCDate()?"".concat(E().utc(e).local(!1).format("HH:mm")):"".concat(E().utc(e).local(!1).format("YYYY. MM. DD. HH:mm"))}var q=(0,S.Z)((function(e){var t=(0,x.$)("forkliftsPage").t,n=(0,_.UO)(),a=(0,m.I0)(),r=(0,m.v9)(g.kp),s=(0,m.v9)(g.g4),l=(0,C.useState)(!0),i=(0,j.Z)(l,2),c=i[0],o=i[1],h=(0,C.useState)([]),b=(0,j.Z)(h,2),S=b[0],T=b[1],E=(0,C.useState)(r),z=(0,j.Z)(E,2),U=z[0],M=z[1],R=(0,C.useState)(0),$=(0,j.Z)(R,2),q=$[0],H=$[1],B=(0,C.useState)(10),O=(0,j.Z)(B,2),F=O[0],G=O[1],W=(0,C.useState)({direction:"desc",id:null}),K=(0,j.Z)(W,2),J=K[0],L=K[1],Q=(0,C.useState)(),V=(0,j.Z)(Q,2),X=V[0],ee=V[1],te=(0,C.useState)(),ne=(0,j.Z)(te,2),ae=(ne[0],ne[1]);return(0,C.useEffect)((function(){var e=n.forkliftId,t=n.maintenanceId;a((0,g.oz)(e)).then((function(){return o(!1)})),ee(e),ae(t)}),[a,n]),(0,C.useEffect)((function(){0!==s.length?(M(D.Z.filterArrayByString(r,s)),H(0)):M(r)}),[r,s]),c?(0,p.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,p.jsx)(I.Z,{})}):0===U.length?(0,p.jsx)(u.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,p.jsx)(d.Z,{color:"text.secondary",variant:"h5",children:"Nem tal\xe1lhat\xf3k ellen\u0151rz\xe9sek"})}):(0,p.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,p.jsx)(Z.Z,{className:"grow overflow-x-auto",children:(0,p.jsxs)(w.Z,{stickyHeader:!0,className:"min-w-256 md:min-w-xl ","aria-labelledby":"tableTitle",children:[(0,p.jsx)(A,{selectedTableIds:S,order:J,onSelectAllClick:function(e){e.target.checked?T(U.map((function(e){return e.id}))):T([])},onRequestSort:function(e,t){var n=t,a="asc";J.id===t&&"asc"===J.direction&&(a="desc"),L({direction:a,id:n})},rowCount:U.length,onMenuItemClick:function(){T([])}}),(0,p.jsx)(k.Z,{children:v.Z.orderBy(U,[function(e){switch(J.id){case"date":return e.created_at;case"username":return e.users.name;case"has_damage":return e.has_damage;default:return e[J.id]}}],[J.direction]).slice(q*F,q*F+F).map((function(t){var n=-1!==S.indexOf(t.id);return(0,p.jsxs)(P.Z,{className:"h-72 cursor-pointer ".concat(t.has_damage?"bg-red-900/20 hover:bg-red-900/10":"bg-green-900/20 hover:bg-green-900/10"),hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,onClick:function(n){return a=t,void e.navigate("/maintenance/query/".concat(X,"/").concat(a.id));var a},children:[(0,p.jsx)(y.Z,{className:"w-40 md:w-64 text-center",padding:"none"}),(0,p.jsx)(y.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:Y(t.created_at)}),(0,p.jsx)(y.Z,{className:"p-4 md:p-16",align:"center",component:"th",scope:"row",children:t.users.name}),(0,p.jsx)(y.Z,{className:"p-4 md:p-16",sx:{textAlign:"-webkit-center"},component:"th",scope:"row",align:"right",children:t.has_damage?(0,p.jsx)(f.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"}):(0,p.jsx)(f.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"})})]},t.id)}))})]})}),(0,p.jsx)(N.Z,{className:"shrink-0 border-t-1",component:"div",count:U.length,rowsPerPage:F,page:q,labelRowsPerPage:t("ROWS_PER_PAGE"),labelDisplayedRows:function(e){return"".concat(e.from,"-").concat(e.to," ").concat(t("PAGINATION").replace("{arg1}",e.count))},backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){H(t)},onRowsPerPageChange:function(e){G(e.target.value)}})]})}));var H=(0,r.Z)("queryTab",l.Z)((function(){var e=(0,s.Z)((function(e){return e.breakpoints.down("lg")}));return(0,p.jsx)(a.Z,{header:(0,p.jsx)(b,{isMobile:e}),content:(0,p.jsx)(q,{}),scroll:e?"normal":"content"})}))}}]);