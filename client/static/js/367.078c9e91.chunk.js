"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[367],{47367:function(e,t,a){a.r(t),a.d(t,{default:function(){return He}});var r=a(29439),n=a(30168),i=a(4942),o=a(1413),s=a(45987),l=a(92550),c=a(88564),d=a(83061),u=a(47313),p=a(70499),m=a(46417);var f=function(e){return(0,m.jsx)("div",{className:(0,d.Z)("FusePageSimple-header",e.className),children:(0,m.jsx)("div",{className:"container",children:e.header&&e.header})})},h=a(46923),g=a(22202),x=a(60211),b=a(22408),S=a(19860),v=a(26159),Z=a(62201);var j=function(e){var t=(0,S.Z)(),a=(0,b.v9)((0,Z.lK)(t.palette.primary.main));return(0,m.jsxs)(l.Z,{enable:e.innerScroll,children:[e.header&&(0,m.jsx)(v.Z,{theme:a,children:(0,m.jsx)("div",{className:(0,d.Z)("FusePageSimple-sidebarHeader",e.variant),children:e.header})}),e.content&&(0,m.jsx)("div",{className:"FusePageSimple-sidebarContent",children:e.content})]})},y=(0,u.forwardRef)((function(e,t){var a=e.open,n=e.position,i=e.variant,s=(e.rootRef,(0,u.useState)(a)),l=(0,r.Z)(s,2),c=l[0],p=l[1];(0,u.useImperativeHandle)(t,(function(){return{toggleSidebar:f}}));var f=(0,u.useCallback)((function(e){p(e)}),[]);return(0,u.useEffect)((function(){f(a)}),[f,a]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(g.Z,{lgUp:"permanent"===i,children:(0,m.jsx)(x.Z,{variant:"temporary",anchor:n,open:c,onOpen:function(e){},onClose:function(){return null===e||void 0===e?void 0:e.onClose()},disableSwipeToOpen:!0,classes:{root:(0,d.Z)("FusePageSimple-sidebarWrapper",i),paper:(0,d.Z)("FusePageSimple-sidebar",i,"left"===n?"FusePageSimple-leftSidebar":"FusePageSimple-rightSidebar")},ModalProps:{keepMounted:!0},BackdropProps:{classes:{root:"FusePageSimple-backdrop"}},style:{position:"absolute"},children:(0,m.jsx)(j,(0,o.Z)({},e))})}),"permanent"===i&&(0,m.jsx)(g.Z,{lgDown:!0,children:(0,m.jsx)(h.ZP,{variant:"permanent",anchor:n,className:(0,d.Z)("FusePageSimple-sidebarWrapper",i,c?"opened":"closed","left"===n?"FusePageSimple-leftSidebar":"FusePageSimple-rightSidebar"),open:c,onClose:null===e||void 0===e?void 0:e.onClose,classes:{paper:(0,d.Z)("FusePageSimple-sidebar border-0",i)},children:(0,m.jsx)(j,(0,o.Z)({},e))})})]})}));y.defaultProps={open:!0};var P,F=y,w=["theme"],k=(0,c.ZP)("div")((function(e){var t=e.theme,a=(0,s.Z)(e,w);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.default,"&.FusePageSimple-scroll-content":{height:"100%"},"& .FusePageSimple-wrapper":(0,o.Z)({display:"flex",flexDirection:"row",flex:"1 1 auto",zIndex:2,minWidth:0,height:"100%",backgroundColor:t.palette.background.default},"content"===a.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0,overflow:"hidden"}),"& .FusePageSimple-header":{display:"flex",flex:"0 0 auto",backgroundSize:"cover"},"& .FusePageSimple-topBg":{position:"absolute",left:0,right:0,top:0,height:C,pointerEvents:"none"},"& .FusePageSimple-contentWrapper":{display:"flex",flexDirection:"column",width:"100%",flex:"1 1 auto",overflow:"hidden",zIndex:9999},"& .FusePageSimple-toolbar":{height:N,minHeight:N,display:"flex",alignItems:"center"},"& .FusePageSimple-content":{display:"flex",flex:"1 1 auto",alignItems:"start",minHeight:0,overflowY:"auto"},"& .FusePageSimple-sidebarWrapper":{overflow:"hidden",backgroundColor:"transparent",position:"absolute","&.permanent":(0,i.Z)({},t.breakpoints.up("lg"),{position:"relative",marginLeft:0,marginRight:0,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),"&.closed":{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),"&.FusePageSimple-leftSidebar":{marginLeft:-a.leftsidebarwidth},"&.FusePageSimple-rightSidebar":{marginRight:-a.rightsidebarwidth}}})},"& .FusePageSimple-sidebar":{position:"absolute",backgroundColor:t.palette.background.paper,color:t.palette.text.primary,"&.permanent":(0,i.Z)({},t.breakpoints.up("lg"),{position:"relative"}),maxWidth:"100%",height:"100%"},"& .FusePageSimple-leftSidebar":(0,i.Z)({width:a.leftsidebarwidth},t.breakpoints.up("lg"),{borderRight:"1px solid ".concat(t.palette.divider),borderLeft:0}),"& .FusePageSimple-rightSidebar":(0,i.Z)({width:a.rightsidebarwidth},t.breakpoints.up("lg"),{borderLeft:"1px solid ".concat(t.palette.divider),borderRight:0}),"& .FusePageSimple-sidebarHeader":{height:C,minHeight:C,backgroundColor:t.palette.primary.dark,color:t.palette.primary.contrastText},"& .FusePageSimple-sidebarHeaderInnerSidebar":{backgroundColor:"transparent",color:"inherit",height:"auto",minHeight:"auto"},"& .FusePageSimple-sidebarContent":{display:"flex",flexDirection:"column",minHeight:"100%"},"& .FusePageSimple-backdrop":{position:"absolute"}}})),C=120,N=64,I=(0,u.forwardRef)((function(e,t){var a=(0,u.useRef)(null),r=(0,u.useRef)(null),n=(0,u.useRef)(null);return(0,u.useImperativeHandle)(t,(function(){return{rootRef:n,toggleLeftSidebar:function(e){a.current.toggleSidebar(e)},toggleRightSidebar:function(e){r.current.toggleSidebar(e)}}})),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(p.Z,{styles:function(t){return(0,o.Z)((0,o.Z)({},"page"!==e.scroll&&{"#fuse-toolbar":{position:"static"},"#fuse-footer":{position:"static"}}),"page"===e.scroll&&{"#fuse-toolbar":{position:"sticky",top:0},"#fuse-footer":{position:"sticky",bottom:0}})}}),(0,m.jsx)(k,{className:(0,d.Z)("FusePageSimple-root","FusePageSimple-scroll-".concat(e.scroll),e.className),ref:n,scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:(0,m.jsx)("div",{className:"flex flex-auto flex-col z-10 h-full",children:(0,m.jsxs)("div",{className:"FusePageSimple-wrapper",children:[e.leftSidebarContent&&(0,m.jsx)(F,{position:"left",content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",ref:a,rootRef:n,open:e.leftSidebarOpen,onClose:e.leftSidebarOnClose}),(0,m.jsxs)("div",{className:"FusePageSimple-contentWrapper",children:[e.header&&(0,m.jsx)(f,{header:e.header}),e.content&&(0,m.jsx)(l.Z,{enable:"content"===e.scroll,className:(0,d.Z)("FusePageSimple-content container"),children:e.content})]}),e.rightSidebarContent&&(0,m.jsx)(F,{position:"right",content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",ref:r,rootRef:n,open:e.rightSidebarOpen,onClose:e.rightSidebarOnClose})]})})})]})}));I.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240};var R=(0,u.memo)((0,c.ZP)(I)(P||(P=(0,n.Z)([""])))),A=a(23132),O=a(97890),W=a(69649),H=a(38768),E=a(5227),L=a(47131),T=a(56993);var z,D=function(e){return(0,b.I0)(),(0,m.jsxs)("div",{className:"flex flex-col flex-auto",children:[(0,m.jsx)(L.Z,{className:"absolute top-0 right-0 my-16 mx-32 z-10",sx:{color:"white"},component:E.Z,to:"/admin/workers",size:"large",children:(0,m.jsx)(T.Z,{children:"heroicons-outline:x"})}),(0,m.jsx)(O.j3,{})]})},M=a(42461),B=a(61113),_=a(73997),U=a(24193),Y=a(15743),K=a(24511),V=a(15861),$=a(87757),q=a.n($),G=a(80827),J=a(35323),Q=a(34814),X=a(31881),ee=a.n(X),te=a(51030),ae=(0,G.hg)("contactsApp/contacts/getContacts",function(){var e=(0,V.Z)(q().mark((function e(t,a){var r,n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.getState,e.next=3,ee().get("/users");case 3:return r=e.sent,e.next=6,r.data;case 6:return n=e.sent,e.abrupt("return",{data:n});case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),re=(0,G.HF)({}),ne=function(e){return e.contactsApp.contacts.searchText},ie=re.getSelectors((function(e){return e.contactsApp.contacts})),oe=ie.selectAll,se=(ie.selectById,(0,J.P1)([oe,ne],(function(e,t){return 0===t.length?e:Q.Z.filterArrayByString(e,t)}))),le=(0,J.P1)([se],(function(e){return e.sort((function(e,t){return e.name.localeCompare(t.name,"es",{sensitivity:"base"})})).reduce((function(e,t){var a=t.name[0];return e[a]?e[a].children.push(t):e[a]={group:a,children:[t]},e}),{})})),ce=(0,G.oM)({name:"contactsApp/contacts",initialState:re.getInitialState({searchText:""}),reducers:{setContactsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(z={},(0,i.Z)(z,te.Tk.fulfilled,re.upsertOne),(0,i.Z)(z,te.uK.fulfilled,re.addOne),(0,i.Z)(z,te.zY.fulfilled,(function(e,t){return re.removeOne(e,t.payload)})),(0,i.Z)(z,ae.fulfilled,(function(e,t){var a=t.payload,r=a.data;a.routeParams;re.setAll(e,r),e.searchText=""})),z)}),de=ce.actions.setContactsSearchText,ue=ce.reducer;var pe=function(e){var t=(0,K.$)("staff").t,a=(0,b.I0)(),r=(0,b.v9)(ne),n=(0,b.v9)(se);return(0,m.jsxs)("div",{className:"p-24 sm:p-32 w-full border-b-1",children:[(0,m.jsxs)("div",{className:"flex flex-col items-center sm:items-start",children:[(0,m.jsx)(B.Z,{component:_.E.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight leading-none",children:t("HEADER")}),(0,m.jsx)(B.Z,{component:_.E.span,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},delay:500,className:"text-14 font-medium ml-2",color:"text.secondary",children:"".concat(n.length," ").concat(t("SZEMELY"))})]}),(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center mt-16 -mx-8",children:[(0,m.jsxs)(Y.Z,{component:_.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-1 w-full sm:w-auto items-center px-16 mx-8 border-1 rounded-full",children:[(0,m.jsx)(T.Z,{color:"action",size:20,children:"heroicons-outline:search"}),(0,m.jsx)(M.Z,{placeholder:t("SEARCHBAR_LABEL"),className:"flex flex-1 px-16",disableUnderline:!0,fullWidth:!0,value:r,inputProps:{"aria-label":"Search"},onChange:function(e){return a(de(e))}})]}),(0,m.jsxs)(U.Z,{className:"mx-8",variant:"contained",color:"secondary",component:E.Z,to:"new/edit",children:[(0,m.jsx)(T.Z,{size:20,children:"heroicons-outline:plus"}),(0,m.jsx)("span",{className:"mx-8",children:t("ADD")})]})]})]})},me=a(48310),fe=a(19536),he=a(48119),ge=a(90206),xe=a(63366),be=a(87462),Se=a(79637),ve=a(51195),Ze=a(77342),je=a(11778);function ye(e){return(0,je.Z)("MuiListItemAvatar",e)}(0,a(29698).Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Pe=["className"],Fe=(0,c.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,t){var a=e.ownerState;return[t.root,"flex-start"===a.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.ownerState;return(0,be.Z)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),we=u.forwardRef((function(e,t){var a=(0,Ze.Z)({props:e,name:"MuiListItemAvatar"}),r=a.className,n=(0,xe.Z)(a,Pe),i=u.useContext(ve.Z),o=(0,be.Z)({},a,{alignItems:i.alignItems}),s=function(e){var t=e.alignItems,a=e.classes,r={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,Se.Z)(r,ye,a)}(o);return(0,m.jsx)(Fe,(0,be.Z)({className:(0,d.Z)(s.root,r),ownerState:o,ref:t},n))})),ke=a(83213);var Ce=function(e){var t=e.contact;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(ge.ZP,{className:"px-32 py-16",sx:{bgcolor:"background.paper"},button:!0,component:E.Z,to:"/admin/workers/".concat(t.id),children:[(0,m.jsx)(we,{children:(0,m.jsx)(he.Z,{alt:t.name,src:t.avatar})}),(0,m.jsx)(ke.Z,{classes:{root:"m-0",primary:"font-medium leading-5 truncate"},primary:t.name,secondary:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(B.Z,{className:"inline",component:"span",variant:"body2",color:"text.secondary",children:t.title})})})]}),(0,m.jsx)(fe.Z,{})]})};var Ne=function(e){var t=(0,K.$)("staff").t,a=(0,b.v9)(se),n=(0,b.v9)(le);return a?0===a.length?(0,m.jsx)("div",{className:"flex flex-1 items-center justify-center h-full",children:(0,m.jsx)(B.Z,{color:"text.secondary",variant:"h5",children:t("NO_CONTACTS")})}):(0,m.jsx)(_.E.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex flex-col flex-auto w-full max-h-full",children:Object.entries(n).map((function(e){var t=(0,r.Z)(e,2),a=t[0],n=t[1];return(0,m.jsxs)("div",{className:"relative",children:[(0,m.jsx)(B.Z,{color:"text.secondary",className:"px-32 py-4 text-14 font-medium",children:a}),(0,m.jsx)(fe.Z,{}),(0,m.jsx)(me.Z,{className:"w-full m-0 p-0",children:n.children.map((function(e){return(0,m.jsx)(Ce,{contact:e},e.id)}))})]},a)}))}):null},Ie=a(9038),Re=a(78219),Ae=a(97062),Oe=(0,Ie.UY)({tags:Re.ZP,countries:Ae.ZP,contacts:ue,contact:te.ZP}),We=(0,c.ZP)(R)((function(e){return{"& .FusePageSimple-header":{backgroundColor:e.theme.palette.background.paper}}}));var He=(0,A.Z)("contactsApp",Oe)((function(e){var t=(0,b.I0)(),a=(0,u.useRef)(null),n=(0,O.UO)(),i=(0,u.useState)(!1),o=(0,r.Z)(i,2),s=o[0],l=o[1],c=(0,H.Z)((function(e){return e.breakpoints.down("lg")}));return(0,W.KW)((function(){t(ae())}),[t]),(0,u.useEffect)((function(){l(Boolean(n.id))}),[n]),(0,m.jsx)(We,{header:(0,m.jsx)(pe,{pageLayout:a}),content:(0,m.jsx)(Ne,{}),ref:a,rightSidebarContent:(0,m.jsx)(D,{}),rightSidebarOpen:s,rightSidebarOnClose:function(){return l(!1)},rightSidebarWidth:640,scroll:c?"normal":"content"})}))}}]);