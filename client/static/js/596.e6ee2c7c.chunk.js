"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[596],{33596:function(e,t,n){n.r(t),n.d(t,{default:function(){return H}});var a=n(47619),r=n(23132),s=n(38768),l=n(26901),i=n(29439),c=n(19860),o=n(42461),d=n(82295),u=n(61113),m=n(73997),f=n(22408),x=n(56993),h=n(24511),g=n(29466),p=n(97890),b=n(47313),j=n(11264),Z=n(46417);var v=function(e){(0,h.$)("forkliftsPage").t,e.isMobile;var t=(0,c.Z)(),n=(0,f.I0)(),a=(0,f.v9)(j.g4),r=(0,p.UO)(),s=(0,b.useState)(),l=(0,i.Z)(s,2),v=l[0],w=l[1];return(0,b.useEffect)((function(){var e=r.forkliftId;n((0,j.R3)(e)).then((function(e){e.payload&&w(e.payload)}))}),[n,r]),(0,Z.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[(0,Z.jsxs)("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0 min-w-0",children:[(0,Z.jsx)(m.E.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1,transition:{delay:.3}},children:(0,Z.jsxs)(u.Z,{className:"flex items-center sm:mb-12",component:g.rU,role:"button",to:"/maintenance/query",color:"inherit",children:[(0,Z.jsx)(x.Z,{size:20,children:"ltr"===t.direction?"heroicons-outline:arrow-sm-left":"heroicons-outline:arrow-sm-right"}),(0,Z.jsx)("span",{className:"flex mx-4 font-medium",children:"Targonc\xe1k"})]})}),v&&(0,Z.jsx)(m.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:(0,Z.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:v.name})}),(0,Z.jsx)("div",{className:"flex items-center max-w-full",children:(0,Z.jsx)(m.E.div,{className:"flex flex-col items-center sm:items-start min-w-0 mx-8 sm:mx-16",initial:{x:-20},animate:{x:0,transition:{delay:.3}},children:(0,Z.jsx)(u.Z,{className:"text-16 sm:text-20 truncate font-semibold",children:"Ellen\u0151rz\xe9sek"})})})]}),(0,Z.jsx)("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:(0,Z.jsxs)(d.Z,{component:m.E.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[(0,Z.jsx)(x.Z,{color:"disabled",children:"heroicons-solid:search"}),(0,Z.jsx)(o.Z,{placeholder:"Ellen\u0151rz\xe9sek keres\xe9se",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:a,inputProps:{"aria-label":"Search"},onChange:function(e){return n((0,j.jE)(e))}})]})})]})},w=n(92550),y=n(58970),k=n(66835),N=n(57861),P=n(67478),C=n(62323),S=n(24076),I=n(8139),E=n(63738),_=n(70816),T=n.n(_),D=n(63445),U=n(82558),z=n(61689),R=n(23477),M=n(17551),$=[{id:"date",align:"left",disablePadding:!1,label:"D\xe1tum",sort:!0},{id:"username",align:"center",disablePadding:!1,label:"Karbantart\xf3",sort:!0},{id:"has_damage",align:"center",disablePadding:!1,label:"St\xe1tusz",sort:!0}];var A=function(e){(0,h.$)("forkliftsPage").t,e.selectedTableIds.length;var t=(0,b.useState)(null),n=(0,i.Z)(t,2);return n[0],n[1],(0,f.I0)(),(0,Z.jsx)(R.Z,{children:(0,Z.jsxs)(S.Z,{className:"h-48 sm:h-64",children:[(0,Z.jsx)(P.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,M.$n)(e.palette.background.default,.4):(0,M.$n)(e.palette.background.default,.02)}},padding:"none",className:"w-40 md:w-64 text-center z-99"}),$.map((function(t){return(0,Z.jsx)(P.Z,{sx:{backgroundColor:function(e){return"light"===e.palette.mode?(0,M.$n)(e.palette.background.default,.4):(0,M.$n)(e.palette.background.default,.02)}},className:"p-4 md:p-16",align:t.align,padding:t.disablePadding?"none":"normal",sortDirection:e.order.id===t.id&&e.order.direction,children:t.sort&&(0,Z.jsx)(z.Z,{title:"Sort",placement:"right"===t.align?"bottom-end":"bottom-start",enterDelay:300,children:(0,Z.jsx)(U.Z,{active:e.order.id===t.id,direction:e.order.direction,onClick:(n=t.id,function(t){e.onRequestSort(t,n)}),className:"font-semibold",children:t.label})})},t.id);var n}),this)]})})};function Y(e){var t=new Date,n=new Date(e);return t.getUTCFullYear()===n.getUTCFullYear()&&t.getUTCMonth()===n.getUTCMonth()&&t.getUTCDate()===n.getUTCDate()?"".concat(T().utc(e).local(!1).format("HH:mm")):"".concat(T().utc(e).local(!1).format("YYYY. MM. DD. HH:mm"))}var q=(0,I.Z)((function(e){var t=(0,h.$)("forkliftsPage").t,n=(0,p.UO)(),a=(0,f.I0)(),r=(0,f.v9)(j.kp),s=(0,f.v9)(j.g4),l=(0,b.useState)(!0),c=(0,i.Z)(l,2),o=c[0],d=c[1],g=(0,b.useState)([]),v=(0,i.Z)(g,2),I=v[0],_=v[1],T=(0,b.useState)(r),U=(0,i.Z)(T,2),z=U[0],R=U[1],M=(0,b.useState)(0),$=(0,i.Z)(M,2),q=$[0],H=$[1],O=(0,b.useState)(10),B=(0,i.Z)(O,2),F=B[0],G=B[1],W=(0,b.useState)({direction:"desc",id:null}),K=(0,i.Z)(W,2),J=K[0],L=K[1],Q=(0,b.useState)(),V=(0,i.Z)(Q,2),X=V[0],ee=V[1],te=(0,b.useState)(),ne=(0,i.Z)(te,2),ae=(ne[0],ne[1]);return(0,b.useEffect)((function(){var e=n.forkliftId,t=n.maintenanceId;a((0,j.oz)(e)).then((function(){return d(!1)})),ee(e),ae(t)}),[a,n]),(0,b.useEffect)((function(){0!==s.length?(R(D.Z.filterArrayByString(r,s)),H(0)):R(r)}),[r,s]),o?(0,Z.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Z.jsx)(E.Z,{})}):0===z.length?(0,Z.jsx)(m.E.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:(0,Z.jsx)(u.Z,{color:"text.secondary",variant:"h5",children:"Nem tal\xe1lhat\xf3k ellen\u0151rz\xe9sek"})}):(0,Z.jsxs)("div",{className:"w-full flex flex-col min-h-full",children:[(0,Z.jsx)(w.Z,{className:"grow overflow-x-auto",children:(0,Z.jsxs)(k.Z,{stickyHeader:!0,className:"min-w-256 md:min-w-xl ","aria-labelledby":"tableTitle",children:[(0,Z.jsx)(A,{selectedTableIds:I,order:J,onSelectAllClick:function(e){e.target.checked?_(z.map((function(e){return e.id}))):_([])},onRequestSort:function(e,t){var n=t,a="asc";J.id===t&&"asc"===J.direction&&(a="desc"),L({direction:a,id:n})},rowCount:z.length,onMenuItemClick:function(){_([])}}),(0,Z.jsx)(N.Z,{children:y.Z.orderBy(z,[function(e){switch(J.id){case"date":return e.created_at;case"username":return e.users.name;case"has_damage":return e.has_damage;default:return e[J.id]}}],[J.direction]).slice(q*F,q*F+F).map((function(t){var n=-1!==I.indexOf(t.id);return(0,Z.jsxs)(S.Z,{className:"h-72 cursor-pointer ".concat(t.has_damage?"bg-red-900/20 hover:bg-red-900/10":"bg-green-900/20 hover:bg-green-900/10"),hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,onClick:function(n){return a=t,void e.navigate("/maintenance/query/".concat(X,"/").concat(a.id));var a},children:[(0,Z.jsx)(P.Z,{className:"w-40 md:w-64 text-center",padding:"none"}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16",component:"th",scope:"row",children:Y(t.created_at)}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16",align:"center",component:"th",scope:"row",children:t.users.name}),(0,Z.jsx)(P.Z,{className:"p-4 md:p-16",sx:{textAlign:"-webkit-center"},component:"th",scope:"row",align:"right",children:t.has_damage?(0,Z.jsx)(x.Z,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"}):(0,Z.jsx)(x.Z,{className:"text-green",size:20,children:"heroicons-outline:check-circle"})})]},t.id)}))})]})}),(0,Z.jsx)(C.Z,{className:"shrink-0 border-t-1",component:"div",count:z.length,rowsPerPage:F,page:q,labelRowsPerPage:t("ROWS_PER_PAGE"),labelDisplayedRows:function(e){return"".concat(e.from,"-").concat(e.to," ").concat(t("PAGINATION").replace("{arg1}",e.count))},backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:function(e,t){H(t)},onRowsPerPageChange:function(e){G(e.target.value)}})]})}));var H=(0,r.Z)("queryTab",l.Z)((function(){var e=(0,s.Z)((function(e){return e.breakpoints.down("lg")}));return(0,Z.jsx)(a.Z,{header:(0,Z.jsx)(v,{isMobile:e}),content:(0,Z.jsx)(q,{}),scroll:e?"normal":"content"})}))}}]);