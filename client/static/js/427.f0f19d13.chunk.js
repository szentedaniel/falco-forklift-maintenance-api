"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[427],{47619:function(e,t,r){r.d(t,{Z:function(){return W}});var n=r(30168),a=r(4942),i=r(1413),s=r(45987),o=r(92550),u=r(88564),c=r(83061),d=r(47313),l=r(70499),f=r(46417);var p=function(e){return(0,f.jsx)("div",{className:(0,c.Z)("FusePageCarded-header","container"),children:e.header&&e.header})},h=r(29439),g=r(46923),b=r(22202),m=r(60211),x=r(22408),v=r(19860),k=r(26159),Z=r(62201);var C=function(e){var t=(0,v.Z)(),r=(0,x.v9)((0,Z.lK)(t.palette.primary.main));return(0,f.jsxs)(o.Z,{enable:e.innerScroll,children:[e.header&&(0,f.jsx)(k.Z,{theme:r,children:(0,f.jsx)("div",{className:(0,c.Z)("FusePageCarded-sidebarHeader",e.variant,e.sidebarInner&&"FusePageCarded-sidebarHeaderInnerSidebar"),children:e.header})}),e.content&&(0,f.jsx)("div",{className:"FusePageCarded-sidebarContent",children:e.content})]})},P=(0,d.forwardRef)((function(e,t){var r=e.open,n=e.position,a=e.variant,s=(e.rootRef,(0,d.useState)(r)),o=(0,h.Z)(s,2),u=o[0],l=o[1];(0,d.useImperativeHandle)(t,(function(){return{toggleSidebar:p}}));var p=(0,d.useCallback)((function(e){l(e)}),[]);return(0,d.useEffect)((function(){p(r)}),[p,r]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(b.Z,{lgUp:"permanent"===a,children:(0,f.jsx)(m.Z,{variant:"temporary",anchor:n,open:u,onOpen:function(e){},onClose:function(){return null===e||void 0===e?void 0:e.onClose()},disableSwipeToOpen:!0,classes:{root:(0,c.Z)("FusePageCarded-sidebarWrapper",a),paper:(0,c.Z)("FusePageCarded-sidebar",a,"left"===n?"FusePageCarded-leftSidebar":"FusePageCarded-rightSidebar")},ModalProps:{keepMounted:!0},BackdropProps:{classes:{root:"FusePageCarded-backdrop"}},style:{position:"absolute"},children:(0,f.jsx)(C,(0,i.Z)({},e))})}),"permanent"===a&&(0,f.jsx)(b.Z,{lgDown:!0,children:(0,f.jsx)(g.ZP,{variant:"permanent",anchor:n,className:(0,c.Z)("FusePageCarded-sidebarWrapper",a,u?"opened":"closed","left"===n?"FusePageCarded-leftSidebar":"FusePageCarded-rightSidebar"),open:u,onClose:null===e||void 0===e?void 0:e.onClose,classes:{paper:(0,c.Z)("FusePageCarded-sidebar",a)},children:(0,f.jsx)(C,(0,i.Z)({},e))})})]})}));P.defaultProps={open:!0};var w,S=P,F=["theme"],y=(0,u.ZP)("div")((function(e){var t=e.theme,r=(0,s.Z)(e,F);return{display:"flex",flexDirection:"column",minWidth:0,minHeight:"100%",position:"relative",flex:"1 1 auto",width:"100%",height:"auto",backgroundColor:t.palette.background.default,"& .FusePageCarded-scroll-content":{height:"100%"},"& .FusePageCarded-wrapper":(0,i.Z)({display:"flex",flexDirection:"row",flex:"1 1 auto",zIndex:2,maxWidth:"100%",minWidth:0,height:"100%",backgroundColor:t.palette.background.paper},"content"===r.scroll&&{position:"absolute",top:0,bottom:0,right:0,left:0,overflow:"hidden"}),"& .FusePageCarded-header":{display:"flex",flex:"0 0 auto"},"& .FusePageCarded-contentWrapper":{display:"flex",flexDirection:"column",flex:"1 1 auto",overflow:"auto",WebkitOverflowScrolling:"touch",zIndex:9999},"& .FusePageCarded-toolbar":{height:T,minHeight:T,display:"flex",alignItems:"center"},"& .FusePageCarded-content":{flex:"1 0 auto"},"& .FusePageCarded-sidebarWrapper":{overflow:"hidden",backgroundColor:"transparent",position:"absolute","&.permanent":(0,a.Z)({},t.breakpoints.up("lg"),{position:"relative",marginLeft:0,marginRight:0,transition:t.transitions.create("margin",{easing:t.transitions.easing.sharp,duration:t.transitions.duration.leavingScreen}),"&.closed":{transition:t.transitions.create("margin",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.enteringScreen}),"&.FusePageCarded-leftSidebar":{marginLeft:-r.leftsidebarwidth},"&.FusePageCarded-rightSidebar":{marginRight:-r.rightsidebarwidth}}})},"& .FusePageCarded-sidebar":{position:"absolute",backgroundColor:t.palette.background.paper,color:t.palette.text.primary,"&.permanent":(0,a.Z)({},t.breakpoints.up("lg"),{position:"relative"}),maxWidth:"100%",height:"100%"},"& .FusePageCarded-leftSidebar":(0,a.Z)({width:r.leftsidebarwidth},t.breakpoints.up("lg"),{}),"& .FusePageCarded-rightSidebar":(0,a.Z)({width:r.rightsidebarwidth},t.breakpoints.up("lg"),{}),"& .FusePageCarded-sidebarHeader":{height:j,minHeight:j,backgroundColor:t.palette.primary.dark,color:t.palette.primary.contrastText},"& .FusePageCarded-sidebarHeaderInnerSidebar":{backgroundColor:"transparent",color:"inherit",height:"auto",minHeight:"auto"},"& .FusePageCarded-sidebarContent":{display:"flex",flexDirection:"column",minHeight:"100%"},"& .FusePageCarded-backdrop":{position:"absolute"}}})),j=120,T=64,R=(0,d.forwardRef)((function(e,t){var r=(0,d.useRef)(null),n=(0,d.useRef)(null),a=(0,d.useRef)(null);return(0,d.useImperativeHandle)(t,(function(){return{rootRef:a,toggleLeftSidebar:function(e){r.current.toggleSidebar(e)},toggleRightSidebar:function(e){n.current.toggleSidebar(e)}}})),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.Z,{styles:function(t){return(0,i.Z)((0,i.Z)({},"page"!==e.scroll&&{"#fuse-toolbar":{position:"static"},"#fuse-footer":{position:"static"}}),"page"===e.scroll&&{"#fuse-toolbar":{position:"sticky",top:0},"#fuse-footer":{position:"sticky",bottom:0}})}}),(0,f.jsxs)(y,{className:(0,c.Z)("FusePageCarded-root","FusePageCarded-scroll-".concat(e.scroll),e.className),ref:a,scroll:e.scroll,leftsidebarwidth:e.leftSidebarWidth,rightsidebarwidth:e.rightSidebarWidth,children:[e.header&&(0,f.jsx)(p,{header:e.header}),(0,f.jsx)("div",{className:"flex flex-auto flex-col container z-10 h-full shadow-1 rounded-t-16 relative overflow-hidden",children:(0,f.jsxs)("div",{className:"FusePageCarded-wrapper",children:[e.leftSidebarContent&&(0,f.jsx)(S,{position:"left",content:e.leftSidebarContent,variant:e.leftSidebarVariant||"permanent",ref:r,rootRef:a,open:e.leftSidebarOpen,onClose:e.leftSidebarOnClose}),(0,f.jsx)(o.Z,{className:"FusePageCarded-contentWrapper",enable:"content"===e.scroll,children:e.content&&(0,f.jsx)("div",{className:(0,c.Z)("FusePageCarded-content"),children:e.content})}),e.rightSidebarContent&&(0,f.jsx)(S,{position:"right",content:e.rightSidebarContent,variant:e.rightSidebarVariant||"permanent",ref:n,rootRef:a,open:e.rightSidebarOpen,onClose:e.rightSidebarOnClose})]})})]})]})}));R.defaultProps={classes:{},scroll:"page",leftSidebarOpen:!1,rightSidebarOpen:!1,rightSidebarWidth:240,leftSidebarWidth:240};var W=(0,d.memo)((0,u.ZP)(R)(w||(w=(0,n.Z)([""]))))},60890:function(e,t,r){r.d(t,{Qv:function(){return x},R3:function(){return f},ZL:function(){return m},qR:function(){return p},yd:function(){return b}});var n,a=r(4942),i=r(1413),s=r(15861),o=r(87757),u=r.n(o),c=r(80827),d=r(31881),l=r.n(d),f=(0,c.hg)("checkTab/maintenance/getForklift",function(){var e=(0,s.Z)(u().mark((function e(t){var r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("forklifts/".concat(t));case 2:return r=e.sent,e.next=5,r.data;case 5:return n=e.sent,e.abrupt("return",void 0===n?null:n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=(0,c.hg)("checkTab/maintenance/saveMaintenance",function(){var e=(0,s.Z)(u().mark((function e(t,r){var n,a,o,c,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.dispatch,n=r.getState,a=n().checkTab,a.hasDamage,a.description,!t.images){e.next=15;break}return e.next=5,Promise.all(t.images.map(function(){var e=(0,s.Z)(u().mark((function e(t){var r,n,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete t.data,(r=new FormData).append("image",t),e.next=5,l().post("files/report",r);case 5:return n=e.sent,e.next=8,n.data.success;case 8:if(!e.sent){e.next=14;break}return e.next=11,"files/reports/".concat(n.data.data.filename);case 11:e.t0=e.sent,e.next=15;break;case 14:e.t0=null;case 15:return a=e.t0,e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:return o=e.sent,delete t.images,e.next=9,l().post("maintenances",(0,i.Z)((0,i.Z)({},t),{},{images:o}));case 9:return c=e.sent,e.next=12,c.data;case 12:if(!e.sent){e.next=14;break}return e.abrupt("return",f(c.data.forklift_id));case 14:return e.abrupt("return",f(c.data.forklift_id));case 15:return e.next=17,l().post("maintenances",t);case 17:return d=e.sent,e.next=20,d.data;case 20:if(!e.sent){e.next=22;break}return e.abrupt("return",f(d.data.forklift_id));case 22:return e.abrupt("return",f(d.data.forklift_id));case 23:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),h=(0,c.oM)({name:"checkTab/forklift",initialState:null,reducers:{resetMaintenance:function(){return null},newMaintenance:{reducer:function(e,t){return t.payload},prepare:function(e){return{payload:{has_damage:!1,description:null,images:[]}}}}},extraReducers:(n={},(0,a.Z)(n,f.fulfilled,(function(e,t){return t.payload})),(0,a.Z)(n,p.fulfilled,(function(e,t){return t.payload})),n)}),g=h.actions,b=g.newMaintenance,m=g.resetMaintenance,x=function(e){return e.checkTab.forklift};t.ZP=h.reducer},6712:function(e,t,r){r.d(t,{AZ:function(){return l},JE:function(){return h},Ng:function(){return m},_Z:function(){return v},on:function(){return k},wh:function(){return p}});var n,a=r(4942),i=r(15861),s=r(87757),o=r.n(s),u=r(80827),c=r(31881),d=r.n(c),l=(0,u.hg)("checkTab/forklifts/getForklifts",(0,i.Z)(o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().get("forklifts");case 2:return t=e.sent,e.next=5,t.data;case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))),f=(0,u.hg)("checkTab/forklifts",function(){var e=(0,i.Z)(o().mark((function e(t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,e.t0=Promise,e.next=4,t.map(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().delete("forklifts/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.t1=e.sent,e.next=7,e.t0.all.call(e.t0,e.t1);case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),p=(0,u.hg)("checkTab/forkliftsActivate",function(){var e=(0,i.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,e.t0=Promise,e.next=4,t.map(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("forklifts/".concat(t),{active:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.t1=e.sent,e.next=7,e.t0.all.call(e.t0,e.t1);case 7:return n=t.map((function(e){return{id:e,changes:{active:!0}}})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),h=(0,u.hg)("checkTab/forkliftsDisable",function(){var e=(0,i.Z)(o().mark((function e(t,r){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.dispatch,r.getState,e.t0=Promise,e.next=4,t.map(function(){var e=(0,i.Z)(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d().patch("forklifts/".concat(t),{active:!1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.t1=e.sent,e.next=7,e.t0.all.call(e.t0,e.t1);case 7:return n=t.map((function(e){return{id:e,changes:{active:!1}}})),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),g=(0,u.HF)({}),b=g.getSelectors((function(e){return e.checkTab.forklifts})),m=b.selectAll,x=(b.selectById,(0,u.oM)({name:"checkTab/forklifts",initialState:g.getInitialState({searchText:""}),reducers:{setForkliftsSearchText:{reducer:function(e,t){e.searchText=t.payload},prepare:function(e){return{payload:e.target.value||""}}}},extraReducers:(n={},(0,a.Z)(n,l.fulfilled,g.setAll),(0,a.Z)(n,p.fulfilled,(function(e,t){return g.updateMany(e,t.payload)})),(0,a.Z)(n,h.fulfilled,(function(e,t){return g.updateMany(e,t.payload)})),(0,a.Z)(n,f.fulfilled,(function(e,t){return g.removeMany(e,t.payload)})),n)})),v=x.actions.setForkliftsSearchText,k=function(e){return e.checkTab.forklifts.searchText};t.ZP=x.reducer},53082:function(e,t,r){var n=r(9038),a=r(60890),i=r(6712),s=(0,n.UY)({forklifts:i.ZP,forklift:a.ZP});t.Z=s}}]);